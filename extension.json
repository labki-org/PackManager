{
  "name": "LabkiPackManager",
  "type": "extension",
  "version": "0.1.0",
  "author": ["Aharoni-Lab"],
  "url": "https://github.com/Aharoni-Lab/LabkiPackManager",
  "descriptionmsg": "labkipackmanager-desc",
  "license-name": "GPL-2.0-or-later",
  "requires": {
    "MediaWiki": ">= 1.44"
  },
  "manifest_version": 2,
  "load_composer_autoloader": true,
  "MessagesDirs": {
    "LabkiPackManager": [
      "i18n"
    ]
  },
  "ExtensionMessagesFiles": {
    "LabkiPacksManagerAlias": "LabkiPacksManager.alias.php"
  },
  "AutoloadNamespaces": {
    "LabkiPackManager\\": "includes/",
    "LabkiPackManager\\Maintenance\\": "maintenance/"
  },
  "ResourceFileModulePaths": {
    "localBasePath": "",
    "remoteExtPath": "LabkiPackManager"
  },
  "ResourceModules": {
    "ext.LabkiPackManager.bundle": {
      "scripts": [
        "resources/modules/ext.LabkiPackManager/app.bundle.js"
      ],
      "styles": [
        "resources/css/labkipackmanager.css"
      ],
      "messages": [
        "labkipackmanager-special-title",
        "labkipackmanager-special-description",
        "labkipackmanager-select-source",
        "labkipackmanager-repo-selector-label",
        "labkipackmanager-ref-selector-label",
        "labkipackmanager-current-selection",
        "labkipackmanager-add-repo-option",
        "labkipackmanager-add-ref-option",
        "labkipackmanager-add-repo-title",
        "labkipackmanager-add-repo-submit",
        "labkipackmanager-add-ref-title",
        "labkipackmanager-add-ref-submit",
        "labkipackmanager-cancel",
        "labkipackmanager-repo-url-label",
        "labkipackmanager-repo-url-placeholder",
        "labkipackmanager-default-ref-label",
        "labkipackmanager-default-ref-placeholder",
        "labkipackmanager-ref-name-label",
        "labkipackmanager-ref-name-placeholder",
        "labkipackmanager-repository",
        "labkipackmanager-graph-title",
        "labkipackmanager-mermaid-not-installed",
        "labkipackmanager-no-graph-loaded",
        "labkipackmanager-hierarchy-title",
        "labkipackmanager-no-hierarchy-loaded",
        "labkipackmanager-pack-count",
        "labkipackmanager-page-count",
        "labkipackmanager-depends-on",
        "labkipackmanager-select",
        "labkipackmanager-deselect",
        "labkipackmanager-update",
        "labkipackmanager-remove",
        "labkipackmanager-auto-selected",
        "labkipackmanager-selected",
        "labkipackmanager-details-title",
        "labkipackmanager-warnings",
        "labkipackmanager-selected-packs",
        "labkipackmanager-manually-selected",
        "labkipackmanager-action",
        "labkipackmanager-version",
        "labkipackmanager-pages",
        "labkipackmanager-no-packs-selected",
        "labkipackmanager-state-out-of-sync-title",
        "labkipackmanager-state-hash",
        "labkipackmanager-apply",
        "labkipackmanager-refresh",
        "labkipackmanager-pack-prefix",
        "labkipackmanager-pack-prefix-placeholder",
	      "labkipackmanager-page-title",
        "labkipackmanager-clear",
        "labkipackmanager-clear-confirm",
        "labkipackmanager-apply-success",
        "labkipackmanager-apply-success-with-id",
        "labkipackmanager-refresh-success",
        "labkipackmanager-clear-success",
        "labkipackmanager-loading",
        "labkipackmanager-error-repo-not-found",
        "labkipackmanager-error-invalid-url",
        "labkipackmanager-error-invalid-protocol",
        "labkipackmanager-sync-from-remote",
        "labkipackmanager-sync-frontend-with-backend"
      ],
      "dependencies": [
        "mediawiki.util",
        "vue",
        "@wikimedia/codex",
        "codex-styles"
      ]
    }
  },
  "APIModules": {
    "labkiManifestGet": "LabkiPackManager\\API\\Manifests\\ApiLabkiManifestGet",
    "labkiHierarchyGet": "LabkiPackManager\\API\\Manifests\\ApiLabkiHierarchyGet",
    "labkiGraphGet": "LabkiPackManager\\API\\Manifests\\ApiLabkiGraphGet",
    "labkiReposList": "LabkiPackManager\\API\\Repos\\ApiLabkiReposList",
    "labkiReposAdd": "LabkiPackManager\\API\\Repos\\ApiLabkiReposAdd",
    "labkiReposSync": "LabkiPackManager\\API\\Repos\\ApiLabkiReposSync",
    "labkiReposRemove": "LabkiPackManager\\API\\Repos\\ApiLabkiReposRemove",
		"labkiPacksList": "LabkiPackManager\\API\\Packs\\ApiLabkiPacksList",
		"labkiPacksAction": "LabkiPackManager\\API\\Packs\\ApiLabkiPacksAction",
		"labkiOperationsStatus": "LabkiPackManager\\API\\Operations\\ApiLabkiOperationsStatus"
  },
	"JobClasses": {
		"labkiRepoAdd": "LabkiPackManager\\Jobs\\LabkiRepoAddJob",
		"labkiRepoSync": "LabkiPackManager\\Jobs\\LabkiRepoSyncJob",
		"labkiRepoRemove": "LabkiPackManager\\Jobs\\LabkiRepoRemoveJob",
		"labkiPackApply": "LabkiPackManager\\Jobs\\LabkiPackApplyJob"
	},
  "Hooks": {
    "LoadExtensionSchemaUpdates": "LabkiPackManager\\Hooks\\SchemaHooks::onLoadExtensionSchemaUpdates",
    "SkinBuildSidebar": "LabkiPackManager\\Hooks\\SidebarHook::onSkinBuildSidebar"
  },
  "MaintenanceScripts": {
    "BackfillLabkiRegistry": "maintenance/BackfillLabkiRegistry.php"
  },
  "SpecialPages": {
    "LabkiPacksManager": "LabkiPackManager\\Special\\SpecialLabkiPacksManager",
    "LabkiDBViewer": "LabkiPackManager\\Special\\SpecialLabkiDBViewer"
  },
  "SpecialPageGroups": {
      "LabkiPacksManager": "labki",
      "LabkiDBViewer": "labki"
  },
  "ServiceWiringFiles": [
    "includes/ServiceWiring.php"
  ],
  "config": {
    "LabkiContentSources": {
      "value": [
        {
          "url": "https://github.com/labki-org/labki-packs",
          "ref": ["main", "v1.0.0"]
        },        
        {
          "url": "https://github.com/labki-org/labki-base-packs"
        }
      ],
      "description": "Array of content repositories with optional Git ref (branch, tag, or commit)."
    },
    "LabkiDefaultBranch": {
      "value": "main",
      "description": "Default branch or tag to display for content sources that support branches."
    },
    "LabkiCacheTTL": {
      "value": 300,
      "description": "Base cache TTL in seconds for fetched manifests."
    },
    "LabkiSchemaIndexUrl": {
      "value": "https://raw.githubusercontent.com/Aharoni-Lab/labki-packs-tools/main/schema/index.json",
      "description": "Index of schema versions for Labki manifests."
    },
    "LabkiSchemaCacheTTL": {
      "value": 300,
      "description": "TTL for schema index caching (future use)."
    },
    "LabkiGlobalPrefix": {
      "value": "",
      "description": "Optional global prefix to apply to renamed pages (collision avoidance)."
    },
    "LabkiEnableDBViewer": {
      "value": false,
      "description": "If true, enables the Labki database viewer special page."
    }
  },
  "AvailableRights": [
    "labkipackmanager-manage"
  ],
  "GroupPermissions": {
    "sysop": {
      "labkipackmanager-manage": true
    }
  }
}

